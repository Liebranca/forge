#!/usr/bin/perl
# ---   *   ---   *   ---
# ANVIL
# For striking metal
#
# LIBRE SOFTWARE
# Licensed under GNU GPL3
# be a bro and inherit
#
# CONTRIBUTORS
# lyeb,

# ---   *   ---   *   ---
# deps

package anvil;

  use v5.36.0;
  use strict;
  use warnings;

  use Readonly;
  use English qw(-no_match_words);
  use List::Util qw(max);

  use lib $ENV{ARPATH}.'/lib/sys/';

  use Style;
  use Type;

  use Arstd::Array;
  use Arstd::IO;


  use lib $ENV{ARPATH}.'/forge/';
  use A9M::SHARE::is;

# ---   *   ---   *   ---
# info

  our $VERSION = v0.00.2;#b
  our $AUTHOR  = 'IBN-3DILA';

# ---   *   ---   *   ---
# get binary generated by
# A9M::ismaker

sub load_ROM() {

  my $bytes=orc(
    "$ENV{ARPATH}/forge/A9M/ROM/isbasic.bin"

  );

  my ($len,%data)=
    $BIN_HEADER->from_bytes(\$bytes,0);

  my ($opcode,@cnt)=bunpack(
    'brad',\$bytes,$data{opcode_cnt}

  );

  my ($label,@cnt2)=bunpack(
    'plcstr,wide',\$bytes,$data{opcode_cnt}

  );

  my $tab={@$label};

  use Fmat;
  fatdump(\$tab);

};

# ---   *   ---   *   ---
# ^test

load_ROM();

# ---   *   ---   *   ---
